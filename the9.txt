#!/bin/perl

use strict;
use warnings;

my $now = localtime;
print "The date is $now\n\n";

print "Please enter a Perl variable name: ";
chomp(my $var = <STDIN>);

my $type = '';
my $valid = 0;
my $length = length($var);

if ($var =~ /^\$([a-zA-Z_])([a-zA-Z]*)$/) {
    $type = 'scalar';
    $valid = 1;
} elsif ($var =~ /^\@([a-zA-Z_])([a-zA-Z]*)$/) {
    $type = 'array';
    $valid = 1;
} elsif ($var =~ /^\%([a-zA-Z_])([a-zA-Z]*)$/) {
    $type = 'hash';
    $valid = 1;
} else {
    $type = 'unknown';
    $valid = 0;
}

print "\n--- Validation Results ---\n";
print "Variable name: '$var'\n";
print "Length: $length\n";

if ($valid) {
    print "Valid: Yes\n";
    print "Type: $type\n";
} else {
    print "Valid: No\n";
    if ($var eq '') {
        print "Reason: Empty input.\n";
    } elsif ($var !~ /^[\$\@\%]/) {
        print "Reason: Must start with \$, \@, or %.\n";
    } elsif ($var !~ /^[\$\@\%][a-zA-Z_]/) {
        print "Reason: Second character must be a letter or underscore.\n";
    } else {
        print "Reason: Remaining characters must be letters only.\n";
    }
}

print "\n";
